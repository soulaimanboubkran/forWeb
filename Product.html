<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="Product.css">
</head>
<style>
    .main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    min-height: 100vh; /* This ensures minimum height of viewport */
}
</style>
<body>

    
    <header class="main-header">
        <div class="logo">
            <div class="logo-main">CX</div>
            <div class="logo-sub">CapacityX</div>
        </div>

        <button class="mobile-menu-button">‚ò∞</button>

        <nav class="nav-menu">
            <div class="nav-links">
                <a href="Home.html">Accueil</a>
                <a href="Apropos.html">√Ä propos</a>
                <a href="Boutique.html">Boutique</a>
                <a href="Blog.html">Blog</a>
           
                <a href="Contact.html">Contact</a>
            </div>

            <div class="right-section">
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Recherche...">
                    <span class="search-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px" class="icon-svg">
                            <path
                                d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z" />
                        </svg>
                    </span>
                </div>

                
                <div class="login-cart">
                    <span>Connexion</span>
                    <div class="cart-icon">
                        üõí
                        <span class="cart-count">0</span>
                    </div>
                </div>
            </div>
        </nav>

        <div class="overlay"></div>
    </header>
    <!-- Add this after the header -->
    <div class="social-sidebar">
        <a href="#" class="social-link facebook"><img src="icons8-facebook.svg" alt="Facebook Icon"></a>
        <a href="#" class="social-link twitter"><img src="icons8-x.svg" alt="twitter Icon"></a>
        <a href="#" class="social-link instagram"><img src="icons8-instagram.svg" alt="instagram Icon"></a>
        <a href="#" class="social-link youtube"><img src="icons8-youtube.svg" alt="youtube Icon"></a>
    </div>


<!--  
    dima l code dial page li khdamin fiha ikon f wst had div 
-->


<div class="main-content">
    <!-- Your page content goes here 
      dima l code dial page li khdamin fiha ikon f wst had div 
       ............ -->
       <nav class="navigation">
        <div class="nav-left">
            <a href="/">Accueil</a>
            <span>/</span>
            <span class="nav-lfet-title">Pack BCAA en capsules</span>
        </div>
        <div class="nav-controls">
            <a href="#" class="nav-button prev">‚Üê Pr√©c√©dent</a>
            <a href="#" class="nav-button next">Suivant ‚Üí</a>
        </div>
    </nav>

    <div class="main-content">
        <div class="product-container">
            <div class="product-gallery">
                <div class="main-image">
                    <img src="images/p10.png" alt="BCAA Capsules" class="main-img">
                    <button class="gallery-nav prev">‚ùÆ</button>
                    <button class="gallery-nav next">‚ùØ</button>
                </div>
                <div class="thumbnail-gallery">
                    <img src="images/p10.png" alt="Thumbnail 1" class="active" data-index="0">
                    <img src="images/p10h.png" alt="Thumbnail 2" data-index="1">
                </div>
            </div>
            

            <div class="product-info">
                <div class="product-meta">
                <h1 class="product-title">Pack BCAA en capsules</h1></div>
                <div class="product-meta">
                    <div class="product-sku">SKU : 0003</div>
                    <div class="product-stock">En stock</div>
                </div>
                <div class="product-meta">
                <div class="product-price">45,90 ‚Ç¨</div>
                
</div> <div class="product-meta"><label>Quantit√©</label></div>
                <div class="product-quantity">
                    
                    <div class="quantity-controls">
                        <button class="quantity-btn minus">-</button>
                        <input type="number" value="1" min="1">
                        <button class="quantity-btn plus">+</button>
                    </div>
                </div>

                <div class="product-actions">
                    <button class="btn-add-cart">Ajouter au panier</button>
                    <button class="btn-buy-now">Commander et payer</button>
                </div>

                <div class="product-details">
                    <div class="details-section">
                        <h3>INFOS D'ARTICLE</h3>
                        <div class="details-content">
                            
                            <p>Les BCAA (Acides Amin√©s √† Cha√Æne Ramifi√©e) sont essentiels pour la r√©cup√©ration musculaire et la croissance. Notre formule exclusive garantit une absorption optimale et des r√©sultats exceptionnels.</p>
                        </div>
                    </div>

            

                    <div class="details-section">
                        <h3>POLITIQUE D'√âCHANGE ET DE REMBOURSEMENT</h3>
                        <div class="details-content">
                            
                            <p>Garantie satisfait ou rembours√© sous 30 jours. Le produit doit √™tre retourn√© non ouvert et dans son emballage d'origine.</p>
                        </div>
                    </div>

                    <div class="details-section">
                        <h3>POLITIQUE DE LIVRAISON</h3>
                        <div class="details-content">
                            <ul class="shipping-info">
                                <li>Livraison gratuite √† partir de 50‚Ç¨</li>
                                <li>Livraison standard : 2-4 jours ouvr√©s</li>
                                <li>Livraison express : 24-48h</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




</div>

<!--  
    dima l code dial page li khdamin fiha ikon f wst had div 
-->





    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">CX</div>
                <div class="footer-sublogo">CapacityX</div>
            </div>

            <div class="footer-section">
                <h3>Menu</h3>
                <ul class="footer-links">
                    <li><a href="#">Accueil</a></li>
                    <li><a href="#">√Ä propos</a></li>
                    <li><a href="#">Boutique</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Demander √† l'expert</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Politiques</h3>
                <ul class="footer-links">
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Politique de boutique</a></li>
                    <li><a href="#">Exp√©dition et retours</a></li>
                    <li><a href="#">Politique de cookies</a></li>
                    <li><a href="#">Mentions l√©gales</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contact</h3>
                <div class="contact-info">
                    <p>01 23 45 67 89</p>
                    <p>47 rue des Couronnes</p>
                    <p>75020 Paris, France</p>
                </div>
                <div class="social-links">
                    <a href="#" class="social-link facebook"><img src="icons8-facebook.svg" alt="Facebook Icon"></a>
                    <a href="#" class="social-link twitter"><img src="icons8-x.svg" alt="twitter Icon"></a>
                    <a href="#" class="social-link instagram"><img src="icons8-instagram.svg" alt="instagram Icon"></a>
                    <a href="#" class="social-link youtube"><img src="icons8-youtube.svg" alt="youtube Icon"></a>
                </div>
            </div>
        </div>

      
    </footer>
    <script>


        const mobileMenuButton = document.querySelector('.mobile-menu-button');
        const navMenu = document.querySelector('.nav-menu');
        const overlay = document.querySelector('.overlay');

        mobileMenuButton.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            overlay.classList.toggle('active');
        });

        overlay.addEventListener('click', () => {
            navMenu.classList.remove('active');
            overlay.classList.remove('active');
        });


        document.addEventListener('DOMContentLoaded', () => {
    // Quantity Controls
    const quantityControls = document.querySelectorAll('.quantity-controls');
    quantityControls.forEach(control => {
        const input = control.querySelector('input[type="number"]');
        const minusButton = control.querySelector('.quantity-btn.minus');
        const plusButton = control.querySelector('.quantity-btn.plus');

        const updateInputValue = (delta) => {
            const currentValue = parseInt(input.value, 10) || 0;
            const minValue = parseInt(input.min, 10) || 1;
            const newValue = Math.max(minValue, currentValue + delta);
            input.value = newValue;
        };

        if (minusButton) {
            minusButton.addEventListener('click', () => updateInputValue(-1));
        }

        if (plusButton) {
            plusButton.addEventListener('click', () => updateInputValue(1));
        }

        input.addEventListener('input', () => {
            const minValue = parseInt(input.min, 10) || 1;
            input.value = Math.max(minValue, parseInt(input.value, 10) || minValue);
        });
    });

    // Expandable Details Sections
    const detailSections = document.querySelectorAll('.details-section');
    detailSections.forEach(section => {
        const header = section.querySelector('h3');
        const content = section.querySelector('.details-content');

        if (header && content) {
            header.setAttribute('role', 'button');
            header.setAttribute('aria-expanded', 'false');
            content.setAttribute('aria-hidden', 'true');

            header.addEventListener('click', () => {
                const isActive = section.classList.toggle('active');
                header.setAttribute('aria-expanded', isActive);
                content.setAttribute('aria-hidden', !isActive);
                content.style.maxHeight = isActive ? `${content.scrollHeight}px` : null;
            });
        }
    });

    // Default open the first details section
    const firstSection = detailSections[0];
    if (firstSection) {
        const firstContent = firstSection.querySelector('.details-content');
        firstSection.classList.add('active');
        if (firstContent) {
            firstContent.style.maxHeight = `${firstContent.scrollHeight}px`;
            firstContent.setAttribute('aria-hidden', 'false');
        }
    }

    // Product Gallery
    const mainImage = document.querySelector('.main-image .main-img');
    const thumbnails = document.querySelectorAll('.thumbnail-gallery img');
    const prevButton = document.querySelector('.gallery-nav.prev');
    const nextButton = document.querySelector('.gallery-nav.next');
    let currentIndex = 0;

    const updateMainImage = (index) => {
        const activeThumbnail = document.querySelector('.thumbnail-gallery img.active');
        if (activeThumbnail) activeThumbnail.classList.remove('active');

        if (thumbnails[index]) {
            thumbnails[index].classList.add('active');
            mainImage.src = thumbnails[index].src;
            mainImage.alt = thumbnails[index].alt;
            currentIndex = index;
        }
    };

    thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => updateMainImage(index));
    });

    if (prevButton && nextButton) {
        prevButton.addEventListener('click', () => {
            updateMainImage((currentIndex - 1 + thumbnails.length) % thumbnails.length);
        });

        nextButton.addEventListener('click', () => {
            updateMainImage((currentIndex + 1) % thumbnails.length);
        });
    }

    updateMainImage(0); // Initialize gallery

    // URL Parameter Handling for Product Details
    const urlParams = new URLSearchParams(window.location.search);
    const productData = {
        name: decodeURIComponent(urlParams.get('name') || ''),
        type: decodeURIComponent(urlParams.get('type') || ''),
        price: parseFloat(urlParams.get('price')) || 0,
        discount: parseFloat(urlParams.get('discount')) || 0,
        image: decodeURIComponent(urlParams.get('image') || ''),
        hoverImage: decodeURIComponent(urlParams.get('hoverImage') || '')
    };

    if (productData.name) {
        document.title = `${productData.name} - CapacityX`;
        document.querySelector('.product-title').textContent = productData.name;

        if (productData.discount > 0) {
            const discountedPrice = productData.price * (1 - productData.discount / 100);
            document.querySelector('.product-price').innerHTML = `
                <span class="original-price">${productData.price.toFixed(2)} ‚Ç¨</span>
                <span class="discounted-price">${discountedPrice.toFixed(2)} ‚Ç¨</span>
            `;
        } else {
            document.querySelector('.product-price').textContent = `${productData.price.toFixed(2)} ‚Ç¨`;
        }

        const mainImg = document.querySelector('.main-img');
        mainImg.src = productData.image;
        mainImg.alt = productData.name;

        const thumbnailGallery = document.querySelector('.thumbnail-gallery');
        thumbnailGallery.innerHTML = `
            <img src="${productData.image}" alt="${productData.name}" class="active" data-index="0">
            ${productData.hoverImage ? `<img src="${productData.hoverImage}" alt="${productData.name} - Alt" data-index="1">` : ''}
        `;
  // Update breadcrumb navigation
  const navLeftTitle = document.querySelector('.nav-left .nav-lfet-title');
    if (navLeftTitle) {
        navLeftTitle.textContent = productData.name;
    }
        initializeGallery();
    } else {
        window.location.href = 'Boutique.html';
    }

function initializeGallery() {
    // Your existing gallery initialization code
    const mainImage = document.querySelector('.main-image .main-img');
    const thumbnails = document.querySelectorAll('.thumbnail-gallery img');
    const prevButton = document.querySelector('.gallery-nav.prev');
    const nextButton = document.querySelector('.gallery-nav.next');
    let currentIndex = 0;

    // Update main image function
    function updateMainImage(index) {
        const activeThumbnail = document.querySelector('.thumbnail-gallery img.active');
        if (activeThumbnail) activeThumbnail.classList.remove('active');
        
        thumbnails[index].classList.add('active');
        mainImage.src = thumbnails[index].src;
        currentIndex = index;
    }

    // Add click events to thumbnails
    thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => {
            updateMainImage(index);
        });
    });

    // Add click events to navigation buttons
    if (prevButton && nextButton) {
        prevButton.addEventListener('click', () => {
            const newIndex = (currentIndex - 1 + thumbnails.length) % thumbnails.length;
            updateMainImage(newIndex);
        });

        nextButton.addEventListener('click', () => {
            const newIndex = (currentIndex + 1) % thumbnails.length;
            updateMainImage(newIndex);
        });
    }
}
        });
        document.addEventListener('DOMContentLoaded', () => {
    const urlParams = new URLSearchParams(window.location.search);
    const currentProductId = parseInt(urlParams.get('id'), 10);

    // Product data structure
    const products = [
        { id: 1, name: "Prot√©ine en poudre - Vanille", price: 29.99, type: "powder", discount: 20, image: "images/p1.png", hoverImage: "images/p1h.png" },
        { id: 2, name: "BCAA 200 capsules", price: 35.00, type: "capsules", discount: 15, image: "images/p2.png", hoverImage: "images/p2h.png" },
        { id: 3, name: "Pr√©-entra√Ænement - Multi fruits", price: 45.00, discount: 0, type: "pre-workout", image: "images/p3.png", hoverImage: "images/p3h.png" },
        { id: 4, name: "Protein Shake Mix", price: 39.99, type: "powder", discount: 30, image: "images/p1.png", hoverImage: "images/p1h.png" },
        { id: 5, name: "BCAA en capsules", price: 15.00, type: "capsules", discount: 12, image: "images/p4.png", hoverImage: "images/p4h.png" },
        { id: 6, name: "BCAA 200 capsules", price: 35.00, type: "capsules", discount: 30, image: "images/p5.png", hoverImage: "images/p5h.png" },
        { id: 7, name: "Prot√©ine en poudre - Cookies et cr√®me", price: 50.99, type: "powder", discount: 30, image: "images/p6.png", hoverImage: "images/p6h.png" },
        { id: 8, name: "Prot√©ine en poudre - Chocolat", price: 50.99, type: "powder", discount: 30, image: "images/p7.png" },
        { id: 9, name: "Prot√©ine en poudre - Beurre de cacahou√®te", price: 50.99, type: "powder", discount: 30, image: "images/p8.png" },
        { id: 10, name: "Prot√©ine en poudre - Cappuccino", price: 50.99, type: "powder", discount: 30, image: "images/p9.png" },
        { id: 11, name: "Pr√©-entra√Ænement - Framboise", price: 23.99, type: "pre-workout", discount: 30, image: "images/p10.png", hoverImage: "images/p10h.png" },
        { id: 12, name: "Pr√©-entra√Ænement - Past√®que", price: 25.99, type: "pre-workout", discount: 30, image: "images/p11.png" },
        { id: 13, name: "Pr√©-entra√Ænement - Cerise", price: 44.99, type: "pre-workout", discount: 22, image: "images/p12.png" },
        { id: 14, name: "Pr√©-entra√Ænement - Pomme verte", price: 25.99, type: "pre-workout", discount: 34, image: "images/p13.png" },
        { id: 15, name: "Pr√©-entra√Ænement - Limonade", price: 23.99, type: "pre-workout", discount: 22, image: "images/p14.png" }
    ];

    let currentProductIndex = products.findIndex(p => p.id === currentProductId);

    if (currentProductIndex !== -1) {
        // Initial display of product
        updateProductDisplay(products[currentProductIndex]);

        // Navigation buttons
        const prevButton = document.querySelector('.nav-button.prev');
        const nextButton = document.querySelector('.nav-button.next');

        // Update navigation state
        const updateNavButtons = () => {
            prevButton.disabled = currentProductIndex <= 0;
            nextButton.disabled = currentProductIndex >= products.length - 1;
        };

        nextButton.addEventListener('click', () => {
            if (currentProductIndex < products.length - 1) {
                currentProductIndex++;
                const product = products[currentProductIndex];
                updateProductDisplay(product);
                updateURL(product.id); // Update the URL
                updateNavButtons();
            }
        });

        prevButton.addEventListener('click', () => {
            if (currentProductIndex > 0) {
                currentProductIndex--;
                const product = products[currentProductIndex];
                updateProductDisplay(product);
                updateURL(product.id); // Update the URL
                updateNavButtons();
            }
        });

        updateNavButtons(); // Initialize button states
    } else {
        // Redirect if product not found
        window.location.href = 'Boutique.html';
    }

    window.addEventListener('popstate', (event) => {
        if (event.state && event.state.productId) {
            const product = products.find(p => p.id === event.state.productId);
            if (product) {
                currentProductIndex = products.findIndex(p => p.id === product.id);
                updateProductDisplay(product);
                updateNavButtons();
            }
        }
    });

    function updateURL(productId) {
        const newUrl = `${window.location.pathname}?id=${productId}`;
        history.pushState({ productId }, "", newUrl);
    }

    function updateProductDisplay(productData) {
        // Update the page title and product name
        document.title = `${productData.name} - CapacityX`;
        document.querySelector('.product-title').textContent = productData.name;

        // Update the price display with discounts
        const productPriceElement = document.querySelector('.product-price');
        if (productData.discount > 0) {
            const discountedPrice = productData.price * (1 - productData.discount / 100);
            productPriceElement.innerHTML = `
                <span class="original-price">${productData.price.toFixed(2)} ‚Ç¨</span>
                <span class="discounted-price">${discountedPrice.toFixed(2)} ‚Ç¨</span>
            `;
        } else {
            productPriceElement.textContent = `${productData.price.toFixed(2)} ‚Ç¨`;
        }

        // Update the main product image
        const mainImg = document.querySelector('.main-img');
        mainImg.src = productData.image;
        mainImg.alt = productData.name;

        // Update the thumbnail gallery
        const thumbnailGallery = document.querySelector('.thumbnail-gallery');
        thumbnailGallery.innerHTML = `
            <img src="${productData.image}" alt="${productData.name}" class="active" data-index="0">
            ${productData.hoverImage ? `<img src="${productData.hoverImage}" alt="${productData.name} - Alt" data-index="1">` : ''}
        `;
  // Update breadcrumb navigation
  const navLeftTitle = document.querySelector('.nav-left .nav-lfet-title');
    if (navLeftTitle) {
        navLeftTitle.textContent = productData.name;
    }
        // Reinitialize gallery logic for the new thumbnails
        initializeGallery();
    }

    function initializeGallery() {
        const mainImage = document.querySelector('.main-image .main-img');
        const thumbnails = document.querySelectorAll('.thumbnail-gallery img');
        const prevButton = document.querySelector('.gallery-nav.prev');
        const nextButton = document.querySelector('.gallery-nav.next');
        let currentIndex = 0;

        // Update main image function
        function updateMainImage(index) {
            const activeThumbnail = document.querySelector('.thumbnail-gallery img.active');
            if (activeThumbnail) activeThumbnail.classList.remove('active');

            thumbnails[index].classList.add('active');
            mainImage.src = thumbnails[index].src;
            currentIndex = index;
        }

        // Add click events to thumbnails
        thumbnails.forEach((thumbnail, index) => {
            thumbnail.addEventListener('click', () => {
                updateMainImage(index);
            });
        });

        // Add click events to navigation buttons
        if (prevButton && nextButton) {
            prevButton.addEventListener('click', () => {
                const newIndex = (currentIndex - 1 + thumbnails.length) % thumbnails.length;
                updateMainImage(newIndex);
            });

            nextButton.addEventListener('click', () => {
                const newIndex = (currentIndex + 1) % thumbnails.length;
                updateMainImage(newIndex);
            });
        }
    }
});

    </script>
</body>
</html>